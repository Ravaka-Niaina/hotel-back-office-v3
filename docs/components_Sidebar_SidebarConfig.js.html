<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>JSDoc: Source: components/Sidebar/SidebarConfig.js</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css" />
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css" />
  </head>

  <body>
    <div id="main">
      <h1 class="page-title">Source: components/Sidebar/SidebarConfig.js</h1>

      <section>
        <article>
          <pre class="prettyprint source linenums"><code>// component
import jwtDecode from 'jwt-decode';
import { getPayloadFromToken, getUserDetailsById, checkAuthWithRole } from '../../services/User';
import { getAllowedRoles } from '../../services/AllowedRoles';
import Iconify from '../Iconify';
// ----------------------------------------------------------------------

const getIcon = (name) => &lt;Iconify icon={name} width={22} height={22} />;
/**
 * @function getSidebarConfig
 * @description A function to get all the items to be displayed on the sidebar referring to the user roles
 * @param {hook} context A context from ThemeContext
 * @returns {array} An array of all the items of the navigation bar
 */
export const getSidebarConfig = async (context) => {
  const userDetails = await context.getUserDetails();
  // console.log(userDetails)
  const userAccessRights = userDetails.data.atribAR;
  const userRoles = userAccessRights.map((accessRight) => accessRight?._id);
  const sidebarConfig = [
    {
      title: 'tableau de bord',
      path: '/dashboard/app',
      icon: getIcon('eva:pie-chart-2-fill'),
      userIsAllowed: getAllowedRoles('/dashboard/app'),
      isAuthorized: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/app')),
    },
    {
      title: 'rapport',
      path: '/dashboard/rapport',
      icon: getIcon('eva:pie-chart-2-fill'),
      userIsAllowed: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/rapport')),
    },
    {
      title: 'plan tarifaire',
      path: '/dashboard/ratePlan',
      icon: getIcon('eva:file-text-fill'),
      userIsAllowed: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/ratePlan')),
      children: [
        {
          title: 'tarif',
          path: '/dashboard/ratePlan',
          userIsAllowed: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/ratePlan')),
        },
        {
          title: 'calendrier',
          path: '/dashboard/calendar',
          userIsAllowed: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/calendar')),
        },
      ],
    },
    {
      title: 'types de chambre',
      path: '/dashboard/typeChambre',
      icon: getIcon('bxs:hotel'),
      userIsAllowed: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/typeChambre')),
    },
    {
      title: 'promotions',
      path: '/dashboard/promotion',
      icon: getIcon('eva:star-fill'),
      userIsAllowed: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/promotion')),
    },
    {
      title: 'politique',
      path: '/dashboard/politic',
      icon: getIcon('bxs:shield-alt-2'),
      userIsAllowed: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/politic')),
      // children: [

      // ],
    },
    {
      title: 'utilisateurs',
      path: '/dashboard/user',
      icon: getIcon('eva:people-fill'),
      userIsAllowed: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/user')),
    },
    {
      title: 'Hotels',
      path: '/dashboard/hotel',
      icon: getIcon('bxs:building-house'),
      userIsAllowed: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/hotel')),
    },
    {
      title: "mod√®le email",
      path: '/dashboard/emailModel',
      icon: getIcon('bx:mail-send'),
      userIsAllowed: checkAuthWithRole(userRoles, getAllowedRoles('/dashboard/emailModel')),
    },
    {
      title: 'login',
      path: '/login',
      icon: getIcon('eva:lock-fill'),
    },
  ];
  return sidebarConfig;
};
</code></pre>
        </article>
      </section>
    </div>

    <nav>
      <h2><a href="index.html">Home</a></h2>
      <h3>Global</h3>
      <ul>
        <li><a href="global.html#checkAuthWithRole">checkAuthWithRole</a></li>
        <li><a href="global.html#getAllowedRoles">getAllowedRoles</a></li>
        <li><a href="global.html#getIdToken">getIdToken</a></li>
        <li><a href="global.html#getPayloadFromToken">getPayloadFromToken</a></li>
        <li><a href="global.html#getSidebarConfig">getSidebarConfig</a></li>
        <li><a href="global.html#getToken">getToken</a></li>
        <li><a href="global.html#getUserDetailsById">getUserDetailsById</a></li>
        <li><a href="global.html#redirectToLoginPage">redirectToLoginPage</a></li>
        <li><a href="global.html#register">register</a></li>
      </ul>
    </nav>

    <br class="clear" />

    <footer>
      Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Sun Sep 25 2022 14:56:16
      GMT+0300 (East Africa Time)
    </footer>

    <script>
      prettyPrint();
    </script>
    <script src="scripts/linenumber.js"></script>
  </body>
</html>
